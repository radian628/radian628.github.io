<!DOCTYPE html><html> <head><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/_astro/amogus-tiling.6EWQ9QEI.css"></head> <body> <main> <h1 id="amogus-tiling-code-golf">Amogus Tiling Code Golf</h1>
<p>This is the Amogus tiling.</p>
<pre class="language-plaintext" data-language="plaintext"><code is:raw="" class="language-plaintext">| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  
| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  
| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  
| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  
| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  
| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  |_      |   |_____|  ___|  _|___    |     |_| |_| |  _  
</code></pre>
<p>The following consists of my attempts at code-golfing the Amogus tiling.
My first attempt consisted of me creating a “unit cell” of the Amogus tiling as a reference implementation.
This “unit cell” can be tiled in the 2D plane in a rectangular grid without
having to shift the rows nor the columns.</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token keyword">function</span> <span class="token function">tileAmogus</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> amogus <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">| |  _  |_      |   |___ _|  ___|  _|___    |     |_| |_
  |_| |_| |  _  |_      |   |___ _|  ___|  _|___    |   
    |     |_| |_| |  _  |_      |   |___ _|  ___|  _|___
|  _|___    |     |_| |_| |  _  |_      |   |___ _|  ___
 _|  ___|  _|___    |     |_| |_| |  _  |_      |   |___
|   |_____|  ___|  _|___    |     |_| |_| |  _  |_      
|_      |   |_____|  ___|  _|___    |     |_| |_| |  _  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token keyword">const</span> <span class="token function-variable function">range</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">let</span> out <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		out <span class="token operator">+=</span> amogus<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">s</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
			<span class="token keyword">let</span> row <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span> row <span class="token operator">+=</span> s<span class="token punctuation">;</span>
			<span class="token keyword">return</span> row<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"\n"</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">tileAmogus</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>My next attempt had two major improvements:</p>
<ol>
<li>I switched to a much smaller unit cell which <em>does</em> require shifting each column.</li>
<li>I heavily optimized the looping code to loop over a 2D grid more efficiently.</li>
</ol>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">xs<span class="token punctuation">,</span> ys</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">| |  _  
  |_| |_
    |   
|  _|___
 _|  ___
|   |___
|_      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
    <span class="token keyword">let</span> <span class="token function-variable function">r</span> <span class="token operator">=</span> <span class="token parameter">n</span> <span class="token operator">=></span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> o <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">r</span><span class="token punctuation">(</span>xs <span class="token operator">*</span> ys<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span> <span class="token operator">=></span> p<span class="token punctuation">[</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>i<span class="token operator">/</span>ys<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>xs<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">%</span>xs<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">%</span>xs<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Removed the newlines from the unit cell code because I’m doing that anyway.</li>
<li>Inlined a bunch of things from earlier</li>
</ul>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">a</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">| |  _    |_| |_    |   |  _|___ _|  ___|   |___|_      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Slight modifications to the indexing code.</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token keyword">let</span> <span class="token function-variable function">a</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span> v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">| |  _    |_| |_    |   |  _|___ _|  ___|   |___|_      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>The golfed amogus function:</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js">
<span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">| |  _    |_| |_    |   |  _|___ _|  ___|   |___|_      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre>
<p>Fixed version</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js">
<span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">| |  _    |_| |_    |   |  _|___ _|  ___|   |___|_      </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>

</code></pre>
<p>Big development! <code>Array</code> constructor is more compact than <code>padEnd</code>.</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js">
<span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"| |  _    |_| |_    |   |  _|___ _|  ___|   |___|_      "</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>

</code></pre>
<p>Another big development! The string contains three characters:</p>
<ul>
<li>Space (<code> </code>)</li>
<li>Underscore (<code>_</code>)</li>
<li>Pipe (<code>|</code>)</li>
</ul>
<p>Therefore we can:</p>
<ol>
<li>Represent the pattern as a number in the highest base possible (base 16)</li>
<li>Reinterpret it as a base 3 number (all digits are 0, 1, or 2)</li>
<li>Map 0 to Space, 1 to Underscore, and 2 to Pipe.</li>
</ol>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x14144e04a81960d922ff00dn</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">6</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre>
<p>This is the unit cell number.</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token number">0x14144e04a81960d922ff00dn</span>
</code></pre>
<p>Crappy reduce method (168 chars)</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span>s<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">]</span><span class="token punctuation">,</span>e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">[</span>s<span class="token operator">+</span><span class="token punctuation">(</span>x<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x14144e04a81960d922ff00dn</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span>x<span class="token operator">&#x26;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token operator">/</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">6</span><span class="token operator">+</span>y<span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span>u<span class="token punctuation">,</span>y<span class="token operator">+</span><span class="token punctuation">(</span>u<span class="token operator">-</span>x<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">""</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre>
<p>Rather than using a 2D unit cell, we can instead draw the Amogus tiling a row at a time.
We can then shift the row over by a fixed amount each time.</p>
<p>Single row pattern: <code>|  ___|  _|___    |     |_| |_| |  _  |_      |   |___ _</code></p>
<p>Offset: <code>48</code></p>
<p>As decimal: <code>358725889429253130858610645n</code></p>
<p>As hex: <code>0x128bb296eab2f01aaf13fd5n</code></p>
<p>129 chars</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre>
<p>A bunch more optimizations using bitwise stupidity</p>
<p>129</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js">
<span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token operator">|</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre>
<p>127</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre>
<p>125</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>
</code></pre>
<p>Turns out a classical <code>for</code> loop is actually more compact!</p>
<p>122</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>i<span class="token operator">&#x3C;</span>u<span class="token operator">*</span>v<span class="token punctuation">;</span><span class="token punctuation">)</span>s<span class="token operator">+=</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>i<span class="token operator">++</span><span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">return</span> s<span class="token punctuation">}</span>
</code></pre>
<p>This wacky <code>replace</code> method is the same size.</p>
<p>122</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token string">""</span><span class="token punctuation">.</span><span class="token function">padEnd</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>122</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span><span class="token function">Array</span><span class="token punctuation">(</span>u<span class="token operator">*</span>v<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span>i</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">+</span><span class="token number">48</span><span class="token operator">*</span><span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span>i<span class="token operator">/</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>119 (bigint input) (by Alex_x90)</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0n</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>i<span class="token operator">&#x3C;</span>u<span class="token operator">*</span>v<span class="token punctuation">;</span><span class="token punctuation">)</span>s<span class="token operator">+=</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token number">0x4560200060422626002005642542n</span><span class="token operator">>></span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">+</span>i<span class="token operator">++</span><span class="token operator">/</span>u<span class="token operator">*</span><span class="token number">48n</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56n</span><span class="token operator">*</span><span class="token number">2n</span><span class="token operator">&#x26;</span><span class="token number">3n</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">return</span> s<span class="token punctuation">}</span>
</code></pre>
<p>118 base 3 bigint</p>
<pre class="language-js" data-language="js"><code is:raw="" class="language-js"><span class="token punctuation">(</span><span class="token parameter">u<span class="token punctuation">,</span>v</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">0n</span><span class="token punctuation">,</span>s<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>i<span class="token operator">&#x3C;</span>u<span class="token operator">*</span>v<span class="token punctuation">;</span><span class="token punctuation">)</span>s<span class="token operator">+=</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">?</span><span class="token string">""</span><span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" _|"</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">0x128bb296eab2f01aaf13fd5n</span><span class="token operator">/</span><span class="token number">3n</span><span class="token operator">**</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token operator">%</span>u<span class="token operator">+</span>i<span class="token operator">++</span><span class="token operator">/</span>u<span class="token operator">*</span><span class="token number">8n</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">56n</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">3n</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">return</span> s<span class="token punctuation">}</span>
</code></pre> </main> </body></html>